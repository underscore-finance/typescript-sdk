/* Autogenerated file. Do not edit manually. */
/* tslint:disable */
/* eslint-disable */
/* @ts-nocheck */

import { singleQuery, AddressResolverFunction } from '@dappql/async'
import { PublicClient, WalletClient } from 'viem'

type ExtractArgs<T> = T extends (...args: infer P) => any ? P : never
type Address = `0x${string}`

export const abi = [
  {
    stateMutability: 'view',
    type: 'function',
    name: 'userWalletConfig',
    inputs: [],
    outputs: [
      {
        name: '',
        type: 'tuple',
        components: [
          {
            name: 'walletTemplate',
            type: 'address',
          },
          {
            name: 'configTemplate',
            type: 'address',
          },
          {
            name: 'numUserWalletsAllowed',
            type: 'uint256',
          },
          {
            name: 'enforceCreatorWhitelist',
            type: 'bool',
          },
          {
            name: 'minKeyActionTimeLock',
            type: 'uint256',
          },
          {
            name: 'maxKeyActionTimeLock',
            type: 'uint256',
          },
          {
            name: 'depositRewardsAsset',
            type: 'address',
          },
          {
            name: 'lootClaimCoolOffPeriod',
            type: 'uint256',
          },
          {
            name: 'txFees',
            type: 'tuple',
            components: [
              {
                name: 'swapFee',
                type: 'uint256',
              },
              {
                name: 'stableSwapFee',
                type: 'uint256',
              },
              {
                name: 'rewardsFee',
                type: 'uint256',
              },
            ],
          },
          {
            name: 'ambassadorRevShare',
            type: 'tuple',
            components: [
              {
                name: 'swapRatio',
                type: 'uint256',
              },
              {
                name: 'rewardsRatio',
                type: 'uint256',
              },
              {
                name: 'yieldRatio',
                type: 'uint256',
              },
            ],
          },
          {
            name: 'yieldConfig',
            type: 'tuple',
            components: [
              {
                name: 'maxYieldIncrease',
                type: 'uint256',
              },
              {
                name: 'performanceFee',
                type: 'uint256',
              },
              {
                name: 'ambassadorBonusRatio',
                type: 'uint256',
              },
              {
                name: 'bonusRatio',
                type: 'uint256',
              },
              {
                name: 'bonusAsset',
                type: 'address',
              },
            ],
          },
        ],
      },
    ],
  },
  {
    stateMutability: 'view',
    type: 'function',
    name: 'agentConfig',
    inputs: [],
    outputs: [
      {
        name: '',
        type: 'tuple',
        components: [
          {
            name: 'startingAgent',
            type: 'address',
          },
          {
            name: 'startingAgentActivationLength',
            type: 'uint256',
          },
        ],
      },
    ],
  },
  {
    stateMutability: 'view',
    type: 'function',
    name: 'managerConfig',
    inputs: [],
    outputs: [
      {
        name: '',
        type: 'tuple',
        components: [
          {
            name: 'managerPeriod',
            type: 'uint256',
          },
          {
            name: 'managerActivationLength',
            type: 'uint256',
          },
          {
            name: 'mustHaveUsdValueOnSwaps',
            type: 'bool',
          },
          {
            name: 'maxNumSwapsPerPeriod',
            type: 'uint256',
          },
          {
            name: 'maxSlippageOnSwaps',
            type: 'uint256',
          },
          {
            name: 'onlyApprovedYieldOpps',
            type: 'bool',
          },
        ],
      },
    ],
  },
  {
    stateMutability: 'view',
    type: 'function',
    name: 'payeeConfig',
    inputs: [],
    outputs: [
      {
        name: '',
        type: 'tuple',
        components: [
          {
            name: 'payeePeriod',
            type: 'uint256',
          },
          {
            name: 'payeeActivationLength',
            type: 'uint256',
          },
        ],
      },
    ],
  },
  {
    stateMutability: 'view',
    type: 'function',
    name: 'chequeConfig',
    inputs: [],
    outputs: [
      {
        name: '',
        type: 'tuple',
        components: [
          {
            name: 'maxNumActiveCheques',
            type: 'uint256',
          },
          {
            name: 'instantUsdThreshold',
            type: 'uint256',
          },
          {
            name: 'periodLength',
            type: 'uint256',
          },
          {
            name: 'expensiveDelayBlocks',
            type: 'uint256',
          },
          {
            name: 'defaultExpiryBlocks',
            type: 'uint256',
          },
        ],
      },
    ],
  },
  {
    stateMutability: 'view',
    type: 'function',
    name: 'ripeRewardsConfig',
    inputs: [],
    outputs: [
      {
        name: '',
        type: 'tuple',
        components: [
          {
            name: 'stakeRatio',
            type: 'uint256',
          },
          {
            name: 'lockDuration',
            type: 'uint256',
          },
        ],
      },
    ],
  },
  {
    stateMutability: 'view',
    type: 'function',
    name: 'securitySigners',
    inputs: [],
    outputs: [
      {
        name: '',
        type: 'address[]',
      },
    ],
  },
  {
    stateMutability: 'view',
    type: 'function',
    name: 'whitelistedCreators',
    inputs: [],
    outputs: [
      {
        name: '',
        type: 'address[]',
      },
    ],
  },
] as const

export const deployAddress: Address | undefined = '0xdd1b957934efecE6b1097f3e4a5DC5cFb89b5f5d'

export type Contract = {
  calls: {
    userWalletConfig: () => Promise<{
      walletTemplate: `0x${string}`
      configTemplate: `0x${string}`
      numUserWalletsAllowed: bigint
      enforceCreatorWhitelist: boolean
      minKeyActionTimeLock: bigint
      maxKeyActionTimeLock: bigint
      depositRewardsAsset: `0x${string}`
      lootClaimCoolOffPeriod: bigint
      txFees: { swapFee: bigint; stableSwapFee: bigint; rewardsFee: bigint }
      ambassadorRevShare: { swapRatio: bigint; rewardsRatio: bigint; yieldRatio: bigint }
      yieldConfig: {
        maxYieldIncrease: bigint
        performanceFee: bigint
        ambassadorBonusRatio: bigint
        bonusRatio: bigint
        bonusAsset: `0x${string}`
      }
    }>
    agentConfig: () => Promise<{ startingAgent: `0x${string}`; startingAgentActivationLength: bigint }>
    managerConfig: () => Promise<{
      managerPeriod: bigint
      managerActivationLength: bigint
      mustHaveUsdValueOnSwaps: boolean
      maxNumSwapsPerPeriod: bigint
      maxSlippageOnSwaps: bigint
      onlyApprovedYieldOpps: boolean
    }>
    payeeConfig: () => Promise<{ payeePeriod: bigint; payeeActivationLength: bigint }>
    chequeConfig: () => Promise<{
      maxNumActiveCheques: bigint
      instantUsdThreshold: bigint
      periodLength: bigint
      expensiveDelayBlocks: bigint
      defaultExpiryBlocks: bigint
    }>
    ripeRewardsConfig: () => Promise<{ stakeRatio: bigint; lockDuration: bigint }>
    securitySigners: () => Promise<`0x${string}`[]>
    whitelistedCreators: () => Promise<`0x${string}`[]>
  }
  mutations: {}
  events: {}
}

export type Calls = keyof Contract['calls']
export type Request<M extends Calls> = {
  contractName: 'DefaultsBase'
  method: M
  args: ExtractArgs<Contract['calls'][M]>
  address: Address | undefined
  deployAddress: Address | undefined
  defaultValue: Awaited<ReturnType<Contract['calls'][M]>> | undefined
  getAbi: () => typeof abi
  with: (options: { contractAddress?: Address; defaultValue?: Awaited<ReturnType<Contract['calls'][M]>> }) => Request<M>
  defaultTo: (defaultValue: Awaited<ReturnType<Contract['calls'][M]>>) => Request<M>
  at: (address: Address) => Request<M>
}
export type CallReturn<M extends Calls> = NonNullable<Request<M>['defaultValue']>

function getRequest<M extends Calls>(
  method: M,
  args: ExtractArgs<Contract['calls'][M]>,
  contractAddressOrOptions?:
    | Address
    | {
        contractAddress?: Address
        defaultValue?: Awaited<ReturnType<Contract['calls'][M]>>
      },
): Request<M> {
  const address =
    typeof contractAddressOrOptions === 'string' ? contractAddressOrOptions : contractAddressOrOptions?.contractAddress
  const defaultValue = typeof contractAddressOrOptions === 'string' ? undefined : contractAddressOrOptions?.defaultValue

  const call = {
    contractName: 'DefaultsBase' as const,
    method,
    args,
    address,
    deployAddress,
    defaultValue,
    getAbi: () => abi,
    with: (options: { contractAddress?: Address; defaultValue?: Awaited<ReturnType<Contract['calls'][M]>> }) => {
      call.address = options.contractAddress
      call.defaultValue = options.defaultValue
      return call as Request<M>
    },
    defaultTo: (defaultValue: Awaited<ReturnType<Contract['calls'][M]>>) => {
      call.defaultValue = defaultValue
      return call as Request<M>
    },
    at: (address: Address) => {
      call.address = address
      return call as Request<M>
    },
  } as Request<M>

  return call
}

type CallType = {
  [K in Calls]: (...args: ExtractArgs<Contract['calls'][K]>) => ReturnType<typeof getRequest<K>>
}

export const call: CallType = {
  userWalletConfig: (...args: ExtractArgs<Contract['calls']['userWalletConfig']>) =>
    getRequest('userWalletConfig', args),
  agentConfig: (...args: ExtractArgs<Contract['calls']['agentConfig']>) => getRequest('agentConfig', args),
  managerConfig: (...args: ExtractArgs<Contract['calls']['managerConfig']>) => getRequest('managerConfig', args),
  payeeConfig: (...args: ExtractArgs<Contract['calls']['payeeConfig']>) => getRequest('payeeConfig', args),
  chequeConfig: (...args: ExtractArgs<Contract['calls']['chequeConfig']>) => getRequest('chequeConfig', args),
  ripeRewardsConfig: (...args: ExtractArgs<Contract['calls']['ripeRewardsConfig']>) =>
    getRequest('ripeRewardsConfig', args),
  securitySigners: (...args: ExtractArgs<Contract['calls']['securitySigners']>) => getRequest('securitySigners', args),
  whitelistedCreators: (...args: ExtractArgs<Contract['calls']['whitelistedCreators']>) =>
    getRequest('whitelistedCreators', args),
}

export type SDK = {
  deployAddress: Address | undefined
  abi: typeof abi
  userWalletConfig: (
    ...args: ExtractArgs<Contract['calls']['userWalletConfig']>
  ) => Promise<CallReturn<'userWalletConfig'>>
  agentConfig: (...args: ExtractArgs<Contract['calls']['agentConfig']>) => Promise<CallReturn<'agentConfig'>>
  managerConfig: (...args: ExtractArgs<Contract['calls']['managerConfig']>) => Promise<CallReturn<'managerConfig'>>
  payeeConfig: (...args: ExtractArgs<Contract['calls']['payeeConfig']>) => Promise<CallReturn<'payeeConfig'>>
  chequeConfig: (...args: ExtractArgs<Contract['calls']['chequeConfig']>) => Promise<CallReturn<'chequeConfig'>>
  ripeRewardsConfig: (
    ...args: ExtractArgs<Contract['calls']['ripeRewardsConfig']>
  ) => Promise<CallReturn<'ripeRewardsConfig'>>
  securitySigners: (
    ...args: ExtractArgs<Contract['calls']['securitySigners']>
  ) => Promise<CallReturn<'securitySigners'>>
  whitelistedCreators: (
    ...args: ExtractArgs<Contract['calls']['whitelistedCreators']>
  ) => Promise<CallReturn<'whitelistedCreators'>>
}

export function toSdk(
  publicClient?: PublicClient,
  walletClient?: WalletClient,
  addressResolver?: AddressResolverFunction,
): SDK {
  return {
    deployAddress,
    abi,

    // Queries
    userWalletConfig: (...args: ExtractArgs<Contract['calls']['userWalletConfig']>) =>
      singleQuery(publicClient!, call.userWalletConfig(...args), {}, addressResolver) as Promise<
        CallReturn<'userWalletConfig'>
      >,
    agentConfig: (...args: ExtractArgs<Contract['calls']['agentConfig']>) =>
      singleQuery(publicClient!, call.agentConfig(...args), {}, addressResolver) as Promise<CallReturn<'agentConfig'>>,
    managerConfig: (...args: ExtractArgs<Contract['calls']['managerConfig']>) =>
      singleQuery(publicClient!, call.managerConfig(...args), {}, addressResolver) as Promise<
        CallReturn<'managerConfig'>
      >,
    payeeConfig: (...args: ExtractArgs<Contract['calls']['payeeConfig']>) =>
      singleQuery(publicClient!, call.payeeConfig(...args), {}, addressResolver) as Promise<CallReturn<'payeeConfig'>>,
    chequeConfig: (...args: ExtractArgs<Contract['calls']['chequeConfig']>) =>
      singleQuery(publicClient!, call.chequeConfig(...args), {}, addressResolver) as Promise<
        CallReturn<'chequeConfig'>
      >,
    ripeRewardsConfig: (...args: ExtractArgs<Contract['calls']['ripeRewardsConfig']>) =>
      singleQuery(publicClient!, call.ripeRewardsConfig(...args), {}, addressResolver) as Promise<
        CallReturn<'ripeRewardsConfig'>
      >,
    securitySigners: (...args: ExtractArgs<Contract['calls']['securitySigners']>) =>
      singleQuery(publicClient!, call.securitySigners(...args), {}, addressResolver) as Promise<
        CallReturn<'securitySigners'>
      >,
    whitelistedCreators: (...args: ExtractArgs<Contract['calls']['whitelistedCreators']>) =>
      singleQuery(publicClient!, call.whitelistedCreators(...args), {}, addressResolver) as Promise<
        CallReturn<'whitelistedCreators'>
      >,

    // Mutations
  }
}
